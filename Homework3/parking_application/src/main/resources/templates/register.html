
<script src="https://cdnjs.cloudflare.com/ajax/libs/zxcvbn/4.2.0/zxcvbn.js"></script>
<script>
    var strength = {
        0: "Worst",
        1: "Bad",
        2: "Weak",
        3: "Good",
        4: "Strong"
    }

    var password = document.getElementById('password');
    var meter = document.getElementById('password-strength-meter');
    var text = document.getElementById('password-strength-text');

    function zxcvbn(val) {
        return undefined;
    }

    password.addEventListener('input', function() {
        var val = password.value;
        var result = zxcvbn(val);

        // Update the password strength meter
        meter.value = result.score;

        // Update the text indicator
        if (val !== "") {
            text.innerHTML = "Strength: " + strength[result.score];
        } else {
            text.innerHTML = "";
        }
    });
</script>

<style>
    meter{
        /* Reset the default appearance */
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;

        margin: 0 auto 1em;
        width: 100%;
        height: 0.5em;

        /* Applicable only to Firefox */
        background: rgba(0, 0, 0, 0.1) none;
    }

    meter::-webkit-meter-bar {
        background: rgba(0, 0, 0, 0.1) none;
    }

    meter[value="1"]::-webkit-meter-optimum-value { background: red; }
    meter[value="2"]::-webkit-meter-optimum-value { background: yellow; }
    meter[value="3"]::-webkit-meter-optimum-value { background: orange; }
    meter[value="4"]::-webkit-meter-optimum-value { background: green; }

</style>

<div class="container"  xmlns:th="http://www.thymeleaf.org">
    <div class="row justify-content-center mt-5 text-light">
        <div class="col-xs-12 col-sm-8 col-md-4 col-sm-offset-2 col-md-offset-4">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Register here! <small>It's free!</small></h3>
                    <br>
                </div>
                <div th:if="${hasError}">
                    <div th:text="${error}" class="text-danger"></div>
                </div>
                <div class="panel-body">
                    <form action="/register" method="post" role="form">
                        <div class="row">
                            <div class="col-xs-6 col-sm-6 col-md-6">
                                <div class="form-group">
                                    <input type="text" name="name" id="name" class="form-control input-sm" placeholder="First Name">
                                </div>
                            </div>
                            <div class="col-xs-6 col-sm-6 col-md-6">
                                <div class="form-group">
                                    <input type="text" name="surname" id="surname" class="form-control input-sm" placeholder="Last Name">
                                </div>
                            </div>
                        </div>
                        <br>
                        <div class="form-group">
                            <input type="text" name="username" id="username" class="form-control input-sm" placeholder="Username">
                        </div>
                        <br>
                        <div class="row" >
                            <div class="col-xs-6 col-sm-6 col-md-6">
                                <div class="form-group" >
                                    <input type="password" name="password" id="password" class="form-control input-sm" placeholder="Password">
                                    <meter max="4" id="password-strength-meter"></meter>
                                    <p id="password-strength-text"></p>
                                </div>
                            </div>
                            <div class="col-xs-6 col-sm-6 col-md-6">
                                <div class="form-group">
                                    <input type="password" name="repeatedPassword" id="repeatedPassword" class="form-control input-sm" placeholder="Confirm Password">
                                    <div ng-style="passwordStrength "></div>
                                </div>
                            </div>
                        </div>
                        <br>
                        <input type="submit" value="Register" class="btn btn-block bg-teal">

                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
